    "use client"

    import styles from "./NavBar.module.scss";
    import { useLenis } from "@/components/Scroll/useLenis";
    import ButtonDownload from "@/components/ButtonDownload/Download.js";
    export default function NavBar() {

        const lenis = useLenis();

        const handleClick = (e) => {
            const href = e.currentTarget.getAttribute("href");
            if (!href.startsWith("#") || !lenis) return;

            e.preventDefault();
            const target = document.querySelector(href);
            if (!target) return;

            const targetPosition = target.getBoundingClientRect().top + window.scrollY;

            const navHeight = 104;
            lenis.scrollTo(targetPosition - navHeight, {
                duration: 1.2,
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            });

            history.replaceState(null, "", href);
        };

        return (
            <div className={styles.navBar}>
                <div onClick={() => lenis && lenis.scrollTo(0)} style={{ cursor: 'pointer' }}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="84" height="26" viewBox="0 0 94 26" fill="none">
                        <path d="M0.303235 8.21865C-0.510275 9.82664 0.484008 20.0106 1.38794 20.7253C2.29188 21.4399 5.72681 21.6186 6.44996 21.0826C7.1731 20.5466 12.4159 5.71732 11.8736 4.46666C11.3312 3.21599 1.11674 6.61065 0.303235 8.21865Z" fill="#2883BD" />
                        <path d="M8.29159 21.4661C8.47238 22.7168 11.5457 22.8954 12.6305 22.7168C13.7152 22.5381 26.1895 10.9248 26.9126 9.13813C27.6358 7.35146 19.0691 -0.509848 17.3309 0.0261505C15.5927 0.562149 8.29159 21.4661 8.29159 21.4661Z" fill="#2883BD" />
                        <path d="M22.3592 16.616C21.4552 16.7946 14.043 22.6906 14.043 23.5839C14.043 24.4773 16.2799 25.8703 18.7772 25.8703C21.2745 25.8703 26.551 23.369 26.9126 22.1183C27.2742 20.8677 23.2631 16.4373 22.3592 16.616Z" fill="#2883BD" />
                        <path d="M44.5553 25.7349C42.9396 25.7349 41.4441 25.4399 40.0686 24.8499C38.715 24.2599 37.5251 23.4405 36.4989 22.3916C35.4946 21.3209 34.7087 20.0753 34.141 18.6549C33.5952 17.2127 33.3223 15.6394 33.3223 13.9349C33.3223 12.2305 33.5952 10.6681 34.141 9.24771C34.7087 7.80549 35.4946 6.55994 36.4989 5.51105C37.5251 4.44031 38.715 3.60994 40.0686 3.01994C41.4441 2.42994 42.9396 2.13494 44.5553 2.13494C46.1709 2.13494 47.6555 2.42994 49.0092 3.01994C50.3847 3.60994 51.5745 4.44031 52.5789 5.51105C53.605 6.58179 54.391 7.83827 54.9368 9.28049C55.5045 10.7009 55.7883 12.2523 55.7883 13.9349C55.7883 15.6175 55.5045 17.1799 54.9368 18.6221C54.391 20.0425 53.605 21.2881 52.5789 22.3588C51.5745 23.4296 50.3847 24.2599 49.0092 24.8499C47.6555 25.4399 46.1709 25.7349 44.5553 25.7349ZM44.5553 22.2933C45.6688 22.2933 46.684 22.0857 47.601 21.6705C48.5398 21.2553 49.3476 20.6762 50.0244 19.9333C50.7012 19.1684 51.2252 18.2834 51.5964 17.2783C51.9894 16.2512 52.1859 15.1368 52.1859 13.9349C52.1859 12.7331 51.9894 11.6296 51.5964 10.6244C51.2252 9.59734 50.7012 8.71234 50.0244 7.96938C49.3476 7.20457 48.5398 6.61457 47.601 6.19938C46.684 5.7842 45.6688 5.5766 44.5553 5.5766C43.4418 5.5766 42.4157 5.7842 41.4768 6.19938C40.5599 6.61457 39.752 7.19364 39.0534 7.9366C38.3766 8.67956 37.8526 9.56456 37.4814 10.5916C37.1103 11.5968 36.9247 12.7112 36.9247 13.9349C36.9247 15.1368 37.1103 16.2512 37.4814 17.2783C37.8526 18.3053 38.3766 19.1903 39.0534 19.9333C39.752 20.6762 40.5599 21.2553 41.4768 21.6705C42.4157 22.0857 43.4418 22.2933 44.5553 22.2933Z" fill="#E4E4E4" />
                        <path d="M59.7256 25.4071V8.19882H63.1315V13.6072L62.8041 12.296C63.0442 11.4657 63.4481 10.7118 64.0158 10.0344C64.6053 9.35697 65.2712 8.8216 66.0135 8.42827C66.7776 8.03494 67.5636 7.83827 68.3714 7.83827C68.7426 7.83827 69.0919 7.87105 69.4194 7.9366C69.7687 8.00216 70.0416 8.07864 70.2381 8.16605L69.3539 11.8372C69.0919 11.7279 68.7972 11.6405 68.4697 11.5749C68.164 11.4875 67.8584 11.4438 67.5527 11.4438C66.9632 11.4438 66.3956 11.564 65.8497 11.8044C65.3258 12.0229 64.8563 12.3397 64.4415 12.7549C64.0485 13.1483 63.732 13.6181 63.4918 14.1644C63.2516 14.6888 63.1315 15.2679 63.1315 15.9016V25.4071H59.7256Z" fill="#E4E4E4" />
                        <path d="M73.4908 25.4071V8.19882H76.864V25.4071H73.4908ZM75.1283 4.39661C74.4078 4.39661 73.8511 4.21086 73.4581 3.83938C73.0651 3.4679 72.8686 2.94346 72.8686 2.26605C72.8686 1.63235 73.0651 1.11883 73.4581 0.725498C73.8729 0.332165 74.4296 0.135498 75.1283 0.135498C75.8488 0.135498 76.4055 0.321239 76.7985 0.69272C77.1915 1.0642 77.388 1.58864 77.388 2.26605C77.388 2.89975 77.1806 3.41327 76.7657 3.80661C76.3728 4.19994 75.8269 4.39661 75.1283 4.39661Z" fill="#E4E4E4" />
                        <path d="M87.78 25.7349C86.339 25.7349 85.04 25.4836 83.8828 24.981C82.7257 24.4784 81.765 23.7355 81.0009 22.7521L83.2933 20.7855C83.9483 21.5503 84.6579 22.1075 85.422 22.4571C86.208 22.7849 87.0923 22.9488 88.0747 22.9488C88.4677 22.9488 88.828 22.9051 89.1555 22.8177C89.5048 22.7084 89.7995 22.5555 90.0397 22.3588C90.3017 22.1621 90.4982 21.9327 90.6292 21.6705C90.7602 21.3864 90.8257 21.0805 90.8257 20.7527C90.8257 20.1846 90.6183 19.7257 90.2034 19.376C89.9851 19.2231 89.6358 19.0592 89.1555 18.8844C88.697 18.6877 88.0966 18.491 87.3543 18.2944C86.088 17.9666 85.0509 17.5951 84.2431 17.1799C83.4353 16.7647 82.813 16.2949 82.3764 15.7705C82.0489 15.3553 81.8087 14.9073 81.6559 14.4266C81.503 13.924 81.4266 13.3777 81.4266 12.7877C81.4266 12.0666 81.5795 11.411 81.8851 10.821C82.2126 10.2092 82.6493 9.68475 83.1951 9.24771C83.7628 8.78882 84.4177 8.43919 85.1601 8.19882C85.9242 7.95845 86.732 7.83827 87.5835 7.83827C88.3913 7.83827 89.1882 7.94753 89.9742 8.16605C90.782 8.38456 91.5243 8.70142 92.2012 9.1166C92.878 9.53179 93.4456 10.0235 93.9041 10.5916L91.9719 12.7222C91.5571 12.307 91.0986 11.9464 90.5964 11.6405C90.1161 11.3127 89.6249 11.0614 89.1227 10.8866C88.6206 10.7118 88.1621 10.6244 87.7472 10.6244C87.2888 10.6244 86.8739 10.6681 86.5028 10.7555C86.1316 10.8429 85.815 10.974 85.553 11.1488C85.3129 11.3236 85.1273 11.5422 84.9963 11.8044C84.8653 12.0666 84.7998 12.3616 84.7998 12.6894C84.8216 12.9734 84.8871 13.2466 84.9963 13.5088C85.1273 13.7492 85.302 13.9568 85.5203 14.1316C85.7605 14.3064 86.1207 14.4922 86.601 14.6888C87.0813 14.8855 87.6927 15.0712 88.435 15.246C89.5266 15.5301 90.4218 15.847 91.1204 16.1966C91.8409 16.5244 92.4086 16.9068 92.8234 17.3438C93.26 17.759 93.5657 18.2397 93.7404 18.786C93.915 19.3323 94.0024 19.9442 94.0024 20.6216C94.0024 21.6049 93.7185 22.4899 93.1509 23.2766C92.6051 24.0414 91.8627 24.6423 90.9239 25.0794C89.9851 25.5164 88.9371 25.7349 87.78 25.7349Z" fill="#E4E4E4" />
                    </svg>
                </div>
                <ul className={styles.ul}>
                    <li className={styles.li}>
                        <a href="#HowItWorks" className="HowItWorks" onClick={handleClick}>Como Funciona</a>
                    </li>
                    <li className={styles.li}>
                        <a href="#Flow" className="Flow" onClick={handleClick}>Flow</a>
                    </li>
                    <div className={styles.DownNav}>
                        <li className={styles.li}>
                            <a href="#Functions" onClick={handleClick}>Funcionalidades</a>
                        </li>
                        <li className={styles.li}>
                            <a href="#Download" onClick={handleClick}><ButtonDownload /></a>
                        </li>
                    </div>
                </ul>
            </div>
        )
    }